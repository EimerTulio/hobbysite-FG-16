{% extends "base.html" %}

{% block title %}Commission List{% endblock %}

{% block content %}
<div class="commission-list-main-background">
    <h1 class="page-title-list">Commission List</h1>

    <p class="commission-number">Total commissions: {{ commissions|length }}</p>

    {% if user.is_authenticated %}
        <h2>Commissions You've Created</h2>
        {% if user_commissions %}
            <ul class="commission-list">
                {% for commission in user_commissions %}
                    <li class="post-categories">
                        <a class="commission-link" href="{% url 'commissions:commission_detail' commission.id %}">
                            {{ commission.title }}
                        </a>
                        <span class="people-required">({{ commission.people_required }} people required)</span>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No commissions you've created yet.</p>
        {% endif %}

        <h2>Commissions You've Applied To</h2>
        {% if applied_commissions %}
            <ul class="commission-list">
                {% for commission in applied_commissions %}
                    <li class="post-categories">
                        <a class="commission-link" href="{% url 'commissions:commission_detail' commission.id %}">
                            {{ commission.title }}
                        </a>
                        <span class="people-required">({{ commission.people_required }} people required)</span>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No commissions you've applied to yet.</p>
        {% endif %}
    {% endif %}

    <h2>All Commissions</h2>
    {% if commissions %}
        <div class="commission-list-background">
            <ul class="commission-list">
                {% for commission in commissions %}
                    <li class="post-categories">
                        <a class="commission-link" href="{% url 'commissions:commission_detail' commission.id %}">
                            {{ commission.title }}
                        </a>
                        <span class="people-required">({{ commission.people_required }} people required)</span>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% else %}
        <p class="home-description">No commissions available.</p>
    {% endif %}
</div>

{% if user.is_authenticated %}
    <a href="{% url 'commissions:commission_create' %}" class="create-commission-button">Create Commission</a>
{% endif %}

<a href="javascript:history.back()" class="back-button">Back</a>
{% endblock %}